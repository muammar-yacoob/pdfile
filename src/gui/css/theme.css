/* PDFile Theme */
:root {
	--bg: #09090b;
	--bg2: #111113;
	--bg3: #1a1a1d;
	--brd: rgba(255, 255, 255, 0.08);
	--txt: #e4e4e7;
	--txt2: #a1a1a6;
	--txt3: #636366;
	--acc: #7fa5df;
	--acc2: #a3b8d9;
	--ok: #10b981;
	--err: #ef4444;
}
* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
	user-select: none;
	scrollbar-width: thin;
	scrollbar-color: var(--acc) var(--bg2);
}
*::-webkit-scrollbar {
	width: 6px;
	height: 0;
}
*::-webkit-scrollbar-track {
	background: var(--bg2);
}
*::-webkit-scrollbar-thumb {
	background: var(--acc);
	border-radius: 3px;
}
*::-webkit-scrollbar-thumb:hover {
	background: var(--acc2);
}
html {
	zoom: 100% !important;
	overflow-x: hidden;
}
html,
body {
	height: 100%;
	overflow: hidden;
	background: var(--bg);
}
body {
	font: 500 13px / 1.3 -apple-system, system-ui, sans-serif;
	color: var(--txt);
	padding: 12px;
	display: flex;
	flex-direction: column;
}

/* Main container - fills window */
.app {
	flex: 1;
	display: flex;
	flex-direction: column;
	min-height: 0;
}

/* Header */
.hd {
	display: flex;
	align-items: center;
	gap: 6px;
	padding-bottom: 8px;
	border-bottom: 1px solid var(--brd);
	flex-shrink: 0;
}
.hd b {
	font-size: 14px;
	background: linear-gradient(135deg, #7fa5df, #a3b8d9);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
}
.hd span {
	font-size: 11px;
	color: var(--txt3);
}

/* Meta info (legacy - kept for other pages) */
.meta {
	display: flex;
	gap: 12px;
	font-size: 11px;
	color: var(--txt3);
	padding: 8px 0;
	flex-shrink: 0;
}
.meta b {
	color: var(--txt2);
	font-weight: 500;
	margin-left: 3px;
}

/* Form - flexes to fill */
.form {
	flex: 1;
	display: flex;
	flex-direction: column;
	gap: 10px;
	min-height: 0;
}

/* Input row */
.row {
	display: flex;
	align-items: center;
	gap: 10px;
	flex-shrink: 0;
}
.row label {
	font-size: 11px;
	color: var(--txt3);
	width: 36px;
	flex-shrink: 0;
}
input[type="number"] {
	width: 44px;
	padding: 6px;
	background: var(--bg2);
	border: 1px solid var(--brd);
	border-radius: 5px;
	color: var(--txt);
	font: inherit;
	font-size: 13px;
	text-align: center;
}
input[type="number"]:focus {
	outline: none;
	border-color: var(--acc);
}
input[type="range"] {
	flex: 1;
	height: 4px;
	background: var(--bg3);
	border-radius: 3px;
	-webkit-appearance: none;
}
input[type="range"]::-webkit-slider-thumb {
	-webkit-appearance: none;
	width: 14px;
	height: 14px;
	background: var(--acc);
	border-radius: 50%;
	cursor: pointer;
}

/* Options - flexes */
.opts {
	display: flex;
	gap: 10px;
	flex-wrap: wrap;
	padding: 4px 0;
	flex: 1;
	align-content: flex-start;
}
.opt {
	display: flex;
	align-items: center;
	gap: 6px;
	font-size: 12px;
	color: var(--txt2);
	cursor: pointer;
	height: fit-content;
}
.opt:hover {
	color: var(--txt);
}
.opt input {
	display: none;
}
.box {
	width: 16px;
	height: 16px;
	background: var(--bg2);
	border: 1px solid var(--brd);
	border-radius: 4px;
	display: grid;
	place-items: center;
	flex-shrink: 0;
	transition: all .15s;
}
.opt input:checked + .box {
	background: var(--acc);
	border-color: var(--acc);
}
.box svg {
	width: 10px;
	height: 10px;
	fill: none;
	stroke: #000;
	stroke-width: 2.5;
	stroke-linecap: round;
	stroke-linejoin: round;
	opacity: 0;
	transition: opacity .15s;
}
.opt input:checked + .box svg {
	opacity: 1;
}

/* Buttons - anchored bottom */
.btns {
	display: flex;
	gap: 8px;
	flex-shrink: 0;
	margin-top: auto;
}
.btn {
	flex: 1;
	padding: 10px 12px;
	border: none;
	border-radius: 6px;
	font: inherit;
	font-size: 13px;
	font-weight: 500;
	cursor: pointer;
}
.btn:active {
	transform: scale(0.98);
}
.btn-g {
	background: transparent;
	color: var(--txt3);
	border: 1px solid var(--brd);
}
.btn-g:hover {
	background: var(--bg2);
	color: var(--txt2);
}
.btn-p {
	background: var(--acc);
	color: #fff;
}
.btn-p:hover {
	background: var(--acc2);
}

/* Loading state - centers in available space */
.ld {
	display: none;
	flex: 1;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	gap: 8px;
}
.ld.on {
	display: flex;
}
.sp {
	width: 20px;
	height: 20px;
	border: 2px solid var(--bg3);
	border-top-color: var(--acc);
	border-radius: 50%;
	animation: s .5s linear infinite;
}
@keyframes s {
	to {
		transform: rotate(360deg);
	}
}
.ld span {
	font-size: 12px;
	color: var(--txt3);
}

/* Log with preview - 6 lines high with thumbnail */
.log-container {
	display: none;
	gap: 8px;
	height: calc(6 * 1.4em + 16px);
	flex-shrink: 0;
}
.log-container.on {
	display: flex;
}
.log {
	flex: 1;
	font: 10px / 1.4 Consolas, monospace;
	background: var(--bg2);
	border-radius: 5px;
	padding: 8px;
	overflow-y: auto;
	min-width: 0;
}
.log p {
	margin: 2px 0;
}
.log .i {
	color: var(--txt3);
}
.log .s {
	color: var(--ok);
}
.log .e {
	color: var(--err);
}
.log-preview {
	width: 80px;
	height: 80px;
	object-fit: contain;
	background: var(--bg2);
	border-radius: 5px;
	border: 1px solid var(--brd);
	flex-shrink: 0;
	display: none;
	align-self: center;
}
.log-preview.on {
	display: block;
}

/* Done container (replaces log area) */
.done-container {
	display: none;
	flex-direction: column;
	gap: 8px;
	flex: 1;
	min-height: 0;
	overflow: hidden;
}
.done-container.on {
	display: flex;
}
.done-preview {
	display: flex;
	width: 100%;
	max-height: 80%;
	align-items: center;
	justify-content: center;
	background: var(--bg2);
	border-radius: 6px;
	overflow: hidden;
	position: relative;
}
.done-preview::before {
	content: "";
	position: absolute;
	inset: 0;
	background: repeating-conic-gradient(#1a1a1d 0% 25%, #222 0% 50%) 50% / 10px
		10px;
	z-index: 0;
}
.done-preview img {
	max-width: 100%;
	height: auto;
	object-fit: contain;
	position: relative;
	z-index: 1;
}
.done-logs {
	flex: 1 1 auto;
	font: 10px / 1.4 Consolas, monospace;
	background: var(--bg2);
	border-radius: 6px;
	padding: 8px;
	overflow-y: auto;
	min-height: 60px;
}
.done-logs p {
	margin: 2px 0;
}
.done-logs .i {
	color: var(--txt3);
}
.done-logs .s {
	color: var(--ok);
}
.done-logs .e {
	color: var(--err);
}
.done-result {
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 8px 12px;
	background: var(--bg2);
	border-radius: 6px;
	flex: 0 0 auto;
}
.done-result h4 {
	font-size: 13px;
	margin: 0;
	font-weight: 600;
}
.done-container.ok .done-result h4 {
	color: var(--ok);
}
.done-container.err .done-result h4 {
	color: var(--err);
}
.done-result p {
	font-size: 11px;
	color: var(--txt2);
	margin: 0;
	flex: 1;
}
.done-btns {
	display: flex;
	gap: 8px;
	flex: 0 0 auto;
}
.done-btns .btn {
	padding: 8px 16px;
	font-size: 11px;
}

/* Warning/info box */
.warn-box {
	display: none;
	font-size: 10px;
	color: #ca8a04;
	background: rgba(202, 138, 4, 0.1);
	padding: 6px 8px;
	border-radius: 4px;
	text-align: center;
}
.warn-box.on {
	display: block;
}

/* Tooltips */
.opt {
	position: relative;
}
.opt[data-tip]:hover::after {
	content: attr(data-tip);
	position: absolute;
	bottom: 100%;
	left: 50%;
	transform: translateX(-50%);
	background: var(--bg3);
	color: var(--txt2);
	font-size: 10px;
	padding: 4px 8px;
	border-radius: 4px;
	white-space: nowrap;
	margin-bottom: 4px;
	z-index: 10;
	pointer-events: none;
}
.opt[data-tip]:hover::before {
	content: "";
	position: absolute;
	bottom: 100%;
	left: 50%;
	transform: translateX(-50%);
	border: 4px solid transparent;
	border-top-color: var(--bg3);
	margin-bottom: -4px;
	z-index: 10;
}
.row[data-tip] {
	position: relative;
}
.row[data-tip]:hover::after {
	content: attr(data-tip);
	position: absolute;
	bottom: 100%;
	left: 50%;
	transform: translateX(-50%);
	background: var(--bg3);
	color: var(--txt2);
	font-size: 10px;
	padding: 4px 8px;
	border-radius: 4px;
	white-space: nowrap;
	margin-bottom: 4px;
	z-index: 10;
	pointer-events: none;
}

.hide {
	display: none !important;
}

/* Collapsed pages panel */
#thumbnailsPanel.collapsed {
	width: 48px !important;
	min-width: 48px !important;
}

#thumbnailsPanel.collapsed .thumbnails-header span,
#thumbnailsPanel.collapsed .page-actions-toolbar,
#thumbnailsPanel.collapsed #thumbnailsList {
	display: none;
}

#thumbnailsPanel.collapsed .thumbnails-header {
	justify-content: center;
	padding: 8px;
}

/* Dark mode preview background */
#previewArea.dark-mode {
	background: #1a1a1a;
}

#previewArea.dark-mode .canvas-wrapper {
	box-shadow: 0 4px 20px rgba(0, 0, 0, 0.8);
}

#previewArea.dark-mode #pdfCanvas {
	filter: invert(0.92) hue-rotate(180deg);
}

/* Dark mode for thumbnails */
body.dark-mode .thumbnail-canvas {
	filter: invert(0.92) hue-rotate(180deg);
}
